<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="amazon_project.css">
        <link rel="stylesheet" href="animate.css">
        <link href="https://fonts.googleapis.com/css?family=Bree+Serif|Roboto+Slab|Open+Sans|Anton" rel="stylesheet">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.7.2.js"></script>
        <script src="smoothState.js"></script>
        
        <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
        <title>Willis Tiao - Amazon Echo Case Study</title>
    </head>
    <body>

    <div id="main" class="m-scene">
            <div class="nav-wrapper">
                <div class="topnav">
                    <div class="home-wrap">
                        <div class="home-buttons">
                           <a href="#body" class="home">Willis Tiao</a>
                           <a href="#body" class="home2">WT</a>    
                        </div>
                        <div class="back-button">&#60;back</div>
                    </div>
                    <div class="hamburger">
                        <div class="menu-button"></div>
                    </div>
                    <div class="nav">
                        <a href="#about" class="about">about</a>
                        <a href="#projects" class="projects">projects</a>
                        <a href="#contact" class="contact">contact</a>
                        <a href="" class="resume">resume</a>
                    </div>
                </div>
            </div>    
        <div class="test scene-element">
                
        </div>
        <div class="scene-element">
           <div class="test-wrap">
            
            </div>
       </div>
       
        </div> 
            
    </body>
    
    
    <script>

                 
// SMOOTH STATE 
$(function() {
  $('#main').smoothState();
});


// project clicks
$(document).ready(function(){

    // AMAZON PROJECT CLICK
            $('.project-bubble').click(function(){
                $('.project-bubble').addClass('active');
                $(this).addClass('no-hover');
            });
            $('.project-bubble').click(function(){
                setTimeout(function(){
                    {$("html,body").animate({scrollTop:$(".background").offset().top},"0");return false};
                },300);
            });
    
    
    
            $('.project-bubble').click(function(){
                $('.background').css({"display":"none"});
            }); 
            $('.project-bubble').click(function(){
                $('.amazon-project-content').addClass('active');
                $('.projects-wrap').addClass('active');
            });
            $('.project-bubble').click(function(){
                $('.amazon-img').addClass('active');
            }); 
            $('.project-bubble').click(function(){
                $('.home-buttons').css({"display":"none"});
            }); 
            $('.project-bubble').click(function(){
                $('.amazon-mockup').css({"visibility":"visible"});
                $('.amazon-mockup').css({"opacity":"1"});
            }); 
            $('.project-bubble').click(function(){
                $('.back-button').css({"visibility":"visible"});
                $('.back-button').css({"opacity":"1"});
            }); 
            $('.project-bubble').click(function(){
                $('.project-bubble2').css({"display":"none"});
                $('.project-bubble3').css({"display":"none"});
            }); 

    
    // BACK BUTTON CLICK
            $('.back-button').click(function(){
                $('.background').css({"display":"block"});
                setTimeout(function(){
                    {$("html,body").animate({scrollTop:$(".projects-wrap").offset().top},"500");return false};
                },0);
                
                // Amazon return
                $('.project-bubble').removeClass('active');
                $('.project-bubble').removeClass('no-hover');
                $('.amazon-project-content').removeClass('active');
                $('.amazon-img').removeClass('active');
                $('.amazon-mockup').css({"opacity":"0"});
                setTimeout(function(){
                $('.amazon-mockup').css({"visibility":"hidden"});
                },300);
                
                // Museum return
                $('.project-bubble2').removeClass('active');
                $('.project-bubble2').removeClass('no-hover');
                $('.museum-img').removeClass('active');
                $('.home-buttons').css({"display":"block"});
                $('.back-button').css({"visibility":"hidden"});
                $('.museum-project-content').removeClass('active');
                
                
                $('.project-bubble').css({"display":"inline-block"});
                $('.project-bubble2').css({"display":"inline-block"});
                $('.project-bubble3').css({"display":"inline-block"});
//             
            }); 
    
    
                


// GRAPH YEAR CLICK
            $('.year2').click(function(){
                $('.pieSlice1, .pieSlice2, .pieSlice3, .pieSlice4, .amazon-bar, .google-bar, .other-bar, .bottom-bar').addClass('active');
            });
            $('.year1').click(function(){
                $('.pieSlice1, .pieSlice2, .pieSlice3, .pieSlice4, .amazon-bar, .google-bar, .other-bar, .bottom-bar').removeClass('active');
            });
});
        
// color changer        
        $(document).ready(function() {
            var colors = ["indianred", "lightsteelblue", "#6CD77E", "#F0C68E", "#B480D2", "#A3DCC7"];
            var rand = Math.floor(Math.random() * colors.length);
            $('.loader-section, .intro-wrap').css("background-color", colors[rand]);
            $('.contact-text-wrap').css("color", colors[rand]);
            $('input[type=submit]').css("background-color", colors[rand]);
        });
        
// fade in nav text script        
        $(document).ready(function(){
           $(window).scroll(function(){
               if($(window).scrollTop() > 0){
                   $(".nav-wrapper").css({"background-color":"white"});
                   $(".nav-wrapper").css({"top":"0px"});
               }
               else {
                   $(".nav-wrapper").css({"background-color":"transparent"});
                   $(".nav-wrapper").css({"top":"20px"});
               }
           });
        });
        
        $(document).ready(function(){
            $('.menu').click(function(){
                $('.nav').toggleClass('active');
                console.log('toggling');
            });
        });

// DRAG SCROLL
//   const slider = document.querySelector('.wireframe-back');
//        let isDown = false;
//        let startX;
//        let scrollLeft;
//        
//        slider.addEventListener('mousedown', (e) => {
//            isDown = true;
//            slider.classList.add('active');
//            $(".wireframe").addClass('active');
//            startX = e.pageX - slider.offsetLeft;
//            scrollLeft = slider.scrollLeft;
//        });
//        
//        slider.addEventListener('mouseleave', () => {
//            isDown = false;
//            slider.classList.remove('active');
//            $(".wireframe").removeClass('active');
//        });
//        
//        slider.addEventListener('mouseup', () => {
//            isDown = false;
//            slider.classList.remove('active');
//            $(".wireframe").removeClass('active');
//        });
//        
//        slider.addEventListener('mousemove', (e) => {
//            if (!isDown) return; // stop fn from running
//            e.preventDefault();
//            const x = e.pageX - slider.offsetLeft;
//            console.log({x, startX});
//            const walk = (x - startX);
//            slider.scrollLeft = scrollLeft - walk;
//        });
        
        

        
// hamburger menu script
        $(document).ready(function(){
            $('.hamburger').click(function(){
                $('.menu-button').toggleClass('active');
            }); 
            $('.hamburger').click(function(){
                $('.nav').toggleClass('active');
            }); 
            $('.hamburger').click(function(){
                $('.nav-wrapper').toggleClass('active');
            }); 
        });
        $(document).ready(function(){
            $('.about').click(function(){
                $('.menu-button').removeClass('active');
                $('.nav').removeClass('active');
                $('.nav-wrapper').removeClass('active');
            }); 
            $('.projects').click(function(){
                $('.menu-button').removeClass('active');
                $('.nav').removeClass('active');
                $('.nav-wrapper').removeClass('active');
            }); 
            $('.contact').click(function(){
                $('.menu-button').removeClass('active');
                $('.nav').removeClass('active');
                $('.nav-wrapper').removeClass('active');
            }); 
        });
        
// smooth scroll script
        $('a[href*="#"]')
         // Remove links that don't actually link to anything
         .not('[href="#"]')
         .not('[href="#0"]')
         .click(function(event) {
           // On-page links
           if (
             location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
             &&
             location.hostname == this.hostname
           ) {
             // Figure out element to scroll to
             var target = $(this.hash);
             target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
             // Does a scroll target exist?
             if (target.length) {
               // Only prevent default if animation is actually gonna happen
               event.preventDefault();
               $('html, body').animate({
                 scrollTop: target.offset().top
               }, 700, function() {
                 // Callback after animation
                 // Must change focus!
                 var $target = $(target);
                 $target.focus();
                 if ($target.is(":focus")) { // Checking if the target was focused
                   return false;
                 } else {
                   $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
                   $target.focus(); // Set focus again
                 };
               });
             }
            }
//            $(window).scroll(function() {
//                  var scroll = $(window).scrollTop();
//                  $(".intro-img.animated").css("transform","translateY(" +  (scroll/5)  + "px)");
//                 $(".about-content").css("transform","translateY(" +  (scroll/10)  + "px)");
//                 $(".intro-image.animated").css("transform","translateY(" +  (scroll/4)  + "px)");
//                });
             });
        
//animate on scroll script
$(function() {

  var $window           = $(window),
      win_height_padded = $window.height() * 1.1,
      isTouch           = Modernizr.touch;

  if (isTouch) { $('.revealOnScroll').addClass('animated'); }

  $window.on('scroll', revealOnScroll);

  function revealOnScroll() {
    var scrolled = $window.scrollTop(),
        win_height_padded = $window.height() * 1.1;

    // Showed...
    $(".revealOnScroll:not(.animated)").each(function () {
      var $this     = $(this),
          offsetTop = $this.offset().top;

      if (scrolled + win_height_padded > offsetTop) {
        if ($this.data('timeout')) {
          window.setTimeout(function(){
            $this.addClass('animated ' + $this.data('animation'));
          }, parseInt($this.data('timeout'),10));
        } else {
          $this.addClass('animated ' + $this.data('animation'));
        }
      }
    });
    // Hidden...
   $(".revealOnScroll.animated").each(function (index) {
      var $this     = $(this),
          offsetTop = $this.offset().top;
      if (scrolled + win_height_padded < offsetTop) {
        $(this).removeClass('animated fadeInUp')
      }
    });
  }

  revealOnScroll();
});

// Scroll Top Script
        $(document).ready(function(){
            $(this).scrollTop(0);
        });
        
    </script>
</html>